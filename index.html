<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>CEJM REV - Revision BTS</title>

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#6c5ce7">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="CEJM REV">
    <link rel="apple-touch-icon" href="icons/icon-192.png">

    <!-- Splash / description -->
    <meta name="description" content="Plateforme de revision interactive CEJM pour BTS">

    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <!-- NAV MENU -->
        <nav class="theme-nav">
            <div class="nav-left">
                <div class="nav-brand">CEJM <span>REV</span></div>
            </div>
            <div class="nav-pills">
                <a href="#" class="nav-pill active" data-theme="1">T1</a>
                <a href="#" class="nav-pill" data-theme="2">T2</a>
                <a href="#" class="nav-pill" data-theme="3">T3</a>
                <a href="#" class="nav-pill locked" data-theme="4">T4</a>
                <a href="#" class="nav-pill locked" data-theme="5">T5</a>
            </div>
            <button class="nav-install" id="install-btn" style="display:none" onclick="installApp()">Installer</button>
        </nav>

        <!-- HOME PAGE -->
        <section id="home-page" class="page active">
            <header class="hero">
                <h1>CEJM <span>BTS</span></h1>
                <p class="subtitle">Culture Economique, Juridique et Manageriale</p>
                <p class="description" id="hero-description">Plateforme de revision interactive</p>
            </header>

            <div class="theme-card">
                <div class="theme-header">
                    <span class="theme-badge">1re annee</span>
                    <h2>Theme 1</h2>
                    <p>L'integration de l'entreprise dans son environnement</p>
                </div>

                <div class="chapters-grid">
                    <!-- Chapter 1 -->
                    <div class="chapter-card chapter-eco" data-chapter="1">
                        <span class="chapter-tag tag-eco">Economie</span>
                        <div class="chapter-number">01</div>
                        <h3>Approche economique</h3>
                        <p>Fondements de l'economie, relations economiques, financement</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch1_knowledge" onclick="startQuiz('ch1', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch1-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch1_practical" onclick="startQuiz('ch1', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch1-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 2 -->
                    <div class="chapter-card chapter-eco" data-chapter="2">
                        <span class="chapter-tag tag-eco">Economie</span>
                        <div class="chapter-number">02</div>
                        <h3>Le fonctionnement des marches</h3>
                        <p>Concept de marche, fixation des prix, autoregulation</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch2_knowledge" onclick="startQuiz('ch2', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch2-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch2_practical" onclick="startQuiz('ch2', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch2-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 3 -->
                    <div class="chapter-card chapter-droit" data-chapter="3">
                        <span class="chapter-tag tag-droit">Droit</span>
                        <div class="chapter-number">03</div>
                        <h3>La formation du contrat</h3>
                        <p>Negociation, formation, validite des contrats</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch3_knowledge" onclick="startQuiz('ch3', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch3-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch3_practical" onclick="startQuiz('ch3', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch3-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 4 -->
                    <div class="chapter-card chapter-droit" data-chapter="4">
                        <span class="chapter-tag tag-droit">Droit</span>
                        <div class="chapter-number">04</div>
                        <h3>La mise en oeuvre du contrat</h3>
                        <p>Clauses, execution, sanctions de l'inexecution</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch4_knowledge" onclick="startQuiz('ch4', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch4-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch4_practical" onclick="startQuiz('ch4', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch4-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 5 -->
                    <div class="chapter-card chapter-management" data-chapter="5">
                        <span class="chapter-tag tag-management">Management</span>
                        <div class="chapter-number">05</div>
                        <h3>L'environnement de l'entreprise</h3>
                        <p>Creation, gestion, performance de l'entreprise</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch5_knowledge" onclick="startQuiz('ch5', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch5-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch5_practical" onclick="startQuiz('ch5', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch5-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Theme Quiz -->
                <div class="theme-quiz-section">
                    <button class="btn btn-theme-quiz" data-quiz="theme1_knowledge" onclick="startQuiz('theme1', 'knowledge')">
                        Grand Quiz Theme 1 - 100 Questions
                        <span class="q-count" id="theme1-knowledge-count"></span>
                        <span class="score-badge"></span>
                    </button>
                </div>
            </div>

            <!-- THEME 2 -->
            <div class="theme-card theme-section" id="theme-2" style="display:none">
                <div class="theme-header">
                    <span class="theme-badge">1re annee</span>
                    <h2>Theme 2</h2>
                    <p>La regulation de l'activite economique</p>
                </div>

                <div class="chapters-grid">
                    <!-- Chapter 6 -->
                    <div class="chapter-card chapter-eco" data-chapter="6">
                        <span class="chapter-tag tag-eco">Economie</span>
                        <div class="chapter-number">06</div>
                        <h3>Les fonctions economiques de l'Etat</h3>
                        <p>Fonctions de l'Etat, croissance, politiques economiques</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch6_knowledge" onclick="startQuiz('ch6', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch6-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch6_practical" onclick="startQuiz('ch6', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch6-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 7 -->
                    <div class="chapter-card chapter-droit" data-chapter="7">
                        <span class="chapter-tag tag-droit">Droit</span>
                        <div class="chapter-number">07</div>
                        <h3>La regulation par le droit</h3>
                        <p>Liberte d'entreprendre, concurrence, propriete industrielle</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch7_knowledge" onclick="startQuiz('ch7', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch7-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch7_practical" onclick="startQuiz('ch7', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch7-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 8 -->
                    <div class="chapter-card chapter-management" data-chapter="8">
                        <span class="chapter-tag tag-management">Management</span>
                        <div class="chapter-number">08</div>
                        <h3>L'environnement et les decisions</h3>
                        <p>Macro/micro-environnement, PESTEL, Porter, innovation</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch8_knowledge" onclick="startQuiz('ch8', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch8-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch8_practical" onclick="startQuiz('ch8', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch8-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Theme 2 Quiz -->
                <div class="theme-quiz-section">
                    <button class="btn btn-theme-quiz" data-quiz="theme2_knowledge" onclick="startQuiz('theme2', 'knowledge')">
                        Grand Quiz Theme 2 - 100 Questions
                        <span class="q-count" id="theme2-knowledge-count"></span>
                        <span class="score-badge"></span>
                    </button>
                </div>
            </div>

            <!-- THEME 3 -->
            <div class="theme-card theme-section" id="theme-3" style="display:none">
                <div class="theme-header">
                    <span class="theme-badge">1re annee</span>
                    <h2>Theme 3</h2>
                    <p>L'organisation de l'activite de l'entreprise</p>
                </div>

                <div class="chapters-grid">
                    <!-- Chapter 9 -->
                    <div class="chapter-card chapter-eco" data-chapter="9">
                        <span class="chapter-tag tag-eco">Economie</span>
                        <div class="chapter-number">09</div>
                        <h3>Les choix de production</h3>
                        <p>Facteurs de production, productivite, couts, chaine de valeur, impartition</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch9_knowledge" onclick="startQuiz('ch9', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch9-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch9_practical" onclick="startQuiz('ch9', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch9-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 10 -->
                    <div class="chapter-card chapter-droit" data-chapter="10">
                        <span class="chapter-tag tag-droit">Droit</span>
                        <div class="chapter-number">10</div>
                        <h3>Les choix de structure juridique</h3>
                        <p>Entreprise individuelle, societes, regimes matrimoniaux, ESS, SCOP</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch10_knowledge" onclick="startQuiz('ch10', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch10-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch10_practical" onclick="startQuiz('ch10', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch10-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 11 -->
                    <div class="chapter-card chapter-droit" data-chapter="11">
                        <span class="chapter-tag tag-droit">Droit</span>
                        <div class="chapter-number">11</div>
                        <h3>Les risques et la responsabilite</h3>
                        <p>Risques, responsabilite civile, penale, produits defectueux</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch11_knowledge" onclick="startQuiz('ch11', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch11-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch11_practical" onclick="startQuiz('ch11', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch11-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 12 -->
                    <div class="chapter-card chapter-management" data-chapter="12">
                        <span class="chapter-tag tag-management">Management</span>
                        <div class="chapter-number">12</div>
                        <h3>L'organisation des ressources</h3>
                        <p>Processus, parties prenantes, ressources, competences, diagnostic interne</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch12_knowledge" onclick="startQuiz('ch12', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch12-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch12_practical" onclick="startQuiz('ch12', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch12-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 13 -->
                    <div class="chapter-card chapter-management" data-chapter="13">
                        <span class="chapter-tag tag-management">Management</span>
                        <div class="chapter-number">13</div>
                        <h3>L'organisation interne</h3>
                        <p>Management, styles de direction, structures, coordination (Mintzberg)</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch13_knowledge" onclick="startQuiz('ch13', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch13-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch13_practical" onclick="startQuiz('ch13', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch13-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Chapter 14 -->
                    <div class="chapter-card chapter-management" data-chapter="14">
                        <span class="chapter-tag tag-management">Management</span>
                        <div class="chapter-number">14</div>
                        <h3>Le financement de l'entreprise</h3>
                        <p>Cycle d'exploitation, investissement, modes de financement</p>
                        <div class="chapter-actions">
                            <button class="btn btn-knowledge" data-quiz="ch14_knowledge" onclick="startQuiz('ch14', 'knowledge')">
                                Quiz Connaissances
                                <span class="q-count" id="ch14-knowledge-count"></span>
                                <span class="score-badge"></span>
                            </button>
                            <button class="btn btn-practical" data-quiz="ch14_practical" onclick="startQuiz('ch14', 'practical')">
                                Cas Pratiques / BTS
                                <span class="q-count" id="ch14-practical-count"></span>
                                <span class="score-badge"></span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Theme 3 Quiz -->
                <div class="theme-quiz-section">
                    <button class="btn btn-theme-quiz" data-quiz="theme3_knowledge" onclick="startQuiz('theme3', 'knowledge')">
                        Grand Quiz Theme 3 - 100 Questions
                        <span class="q-count" id="theme3-knowledge-count"></span>
                        <span class="score-badge"></span>
                    </button>
                </div>
            </div>
        </section>

        <!-- QUIZ PAGE -->
        <section id="quiz-page" class="page">
            <div class="quiz-header">
                <button class="btn-back" onclick="goHome()">Retour</button>
                <div class="quiz-info">
                    <h2 id="quiz-title"></h2>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <span class="progress-text" id="progress-text"></span>
                </div>
                <div class="quiz-score">
                    <span class="score-correct" id="score-correct">0</span> / <span id="score-total">0</span>
                </div>
            </div>

            <div class="quiz-content" id="quiz-content">
                <div class="question-card" id="question-card">
                    <div class="question-number" id="question-number"></div>
                    <p class="question-text" id="question-text"></p>
                    <div class="question-context" id="question-context"></div>
                    <div class="options" id="options-container"></div>
                    <div class="explanation hidden" id="explanation">
                        <div class="explanation-icon" id="explanation-icon"></div>
                        <p id="explanation-text"></p>
                    </div>
                    <button class="btn btn-next hidden" id="btn-next" onclick="nextQuestion()">Question suivante</button>
                </div>
            </div>
        </section>

        <!-- RESULTS PAGE -->
        <section id="results-page" class="page">
            <div class="results-container">
                <div class="results-icon" id="results-icon"></div>
                <h2 id="results-title"></h2>
                <div class="results-score">
                    <span class="score-big" id="results-score-value"></span>
                    <span class="score-label">de bonnes reponses</span>
                </div>
                <div class="results-details" id="results-details"></div>
                <div class="results-actions">
                    <button class="btn btn-retry" onclick="retryQuiz()">Recommencer</button>
                    <button class="btn btn-home" onclick="goHome()">Accueil</button>
                    <button class="btn btn-review" onclick="reviewQuiz()">Revoir les erreurs</button>
                </div>
            </div>
        </section>

        <!-- REVIEW PAGE -->
        <section id="review-page" class="page">
            <div class="review-header">
                <button class="btn-back" onclick="goHome()">Accueil</button>
                <h2>Revision des erreurs</h2>
            </div>
            <div class="review-content" id="review-content"></div>
        </section>
    </div>

    <script src="js/app.js"></script>
    <script src="js/data-ch1.js"></script>
    <script src="js/data-ch2.js"></script>
    <script src="js/data-ch3.js"></script>
    <script src="js/data-ch4.js"></script>
    <script src="js/data-ch5.js"></script>
    <script src="js/data-theme1.js"></script>
    <script src="js/data-ch6.js"></script>
    <script src="js/data-ch7.js"></script>
    <script src="js/data-ch8.js"></script>
    <script src="js/data-theme2.js"></script>
    <script src="js/data-ch9.js"></script>
    <script src="js/data-ch10.js"></script>
    <script src="js/data-ch11.js"></script>
    <script src="js/data-ch12.js"></script>
    <script src="js/data-ch13.js"></script>
    <script src="js/data-ch14.js"></script>
    <script src="js/data-theme3.js"></script>
</body>
</html>
